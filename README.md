# **เอกสารประกอบ : โครงงาน node.js & WebService (30 คะแนน)**

1. # **ผู้จัดทำ**

| ชื่อนักศึกษา: | เมธี นิลรัตน์ |
| :---- | :---- |
| รหัสนักศึกษา: | 67130893 |
| วิชา: | WE670 \- การพัฒนาเว็บแอปพลิเคชันขั้นสูง |
| วันที่ส่ง: | 03/06/2025 |

2. # **ใบงาน**

| อาจาร์ผู้สอน: | WINYU NIRANATLAMPHONG |
| :---- | :---- |
| วันที่สั่งงาน: | 18/05/2025 |
| กำหนดส่งงาน: | 20/06/2025 11:59 PM |
| คะแนน: | 30 คะแนน |

   งาน \-:  ให้ นศ.จัดทำโครงงานขนาดเล็กๆ คล้ายกับ Food Project ในชีท Week06
   \-  อนุญาตให้ทำเป็นกลุ่มละ 1-2 คนได้ (ไม่เกิน 2 คนต่อกลุ่ม)
   \-  ให้ นศ.ออกแบบโครงงานติดต่อกับฐานข้อมูลเพื่อจัดเก็บข้อมูล และติดต่อด้วย API
   \-  จัดทำ Environment ด้วย node.js
   \-  ให้มี API สามารถ GET, Delete, POST, PUT ได้เป็นอย่างน้อย
   \-  ให้ นศ.สร้างโฟลเดอร์โครงงานเป็น เลขทะเบียนนักศึกษา ของ นศ.เอง และใส่โค้ดและโน้ตการ set ค่าทุกอย่างลงในโฟลเดอร์นี้

   สิ่งที่ต้องส่ง \-:
   \-  ให้ นศ. บีบอัดโฟลเดอร์งานข้างต้น ส่ง ขอให้ตั้งชื่อไฟล์เป็น Project-เลขทะเบียนนักศึกษา.zip ครับ
   \-  พิมพ์เอกสารประกอบโครงงาน (อธิบายส่วนต่างๆ คล้ายกับในชีท Week06 ในส่วนของโค้ด API ต่างๆ และอาจจะ capture หน้าจอใส่ประกอบได้ครับ ไฟล์เอกสารที่ส่งขอให้เป็นไฟล์ .docx หรือ .pdf ครับ
   \-  ส่งภายใน 20 มิถุนายน 2568 ในกระทู้นี้

3. # **แนะนำโครงการ**

   โครงงานนี้เป็นส่วนหนึ่งของวิชา WE670 การพัฒนาเว็บแอปพลิเคชันขั้นสูง (Part 1: Node.js) โดยมีวัตถุประสงค์เพื่อฝึกการสร้าง RESTful API ด้วย Node.js และ Express พร้อมเชื่อมต่อฐานข้อมูล MongoDB บน MongoDB Atlas  
   ระบบที่พัฒนาคือ Thunderbolts Directory\* ซึ่งแสดงรายชื่อสมาชิกของทีม Thunderbolts พร้อมข้อมูลส่วนตัว เช่น ชื่อผู้ใช้ อีเมล เบอร์โทร รูปภาพ วันเกิด สถานะ และบทบาทผู้ใช้งาน   
   โดยระบบสามารถให้บริการ API แบบเต็มรูปแบบ ได้แก่การเรียกดู เพิ่ม แก้ไข และลบข้อมูล (GET, POST, PUT, DELETE) ผ่านโครงสร้าง RESTful อย่างครบถ้วน   
   พร้อมเชื่อมต่อฐานข้อมูลจริงผ่าน Mongoose และ MongoDB Atlas โดยมีการแสดงผลหน้าเว็บไซต์ด้วย EJS template ที่ดึงข้อมูลจากฐานจริงมาแสดงแบบ dynamic รองรับการปรับขยายในอนาคตได้ง่าย   
   ระบบถูกออกแบบให้มีการแยกส่วนการทำงาน เช่น routes, models, middleware และ view อย่างเป็นระบบ พร้อม middleware สำหรับบันทึก log การใช้งานในรูปแบบ timestamp ทำให้โครงงานนี้สามารถประยุกต์ใช้ได้จริงในระดับ production เบื้องต้น  
   

4. # **การติดตั้งและเตรียม Environment**

   •  วางโครงสร้างโฟลเดอร์และไฟล์สำหรับโปรเจกต์
   •  การติดตั้ง package 
      •  npm init \--yes
      •  npm i express \--save
      •  npm i nodemon \-g \--save-dev
      •  npm i body-parser
      •  npm i mongoose
      •  npm i dotenv
   •  ปรับปรุง pagekage.json
   •  ตรวจสอบ dependencies ที่ติดตั้ง
   •  ปรับปรุง scripts สำหรับ start และ seed ข้อมูล

5. # **การเชื่อมต่อฐานข้อมูล MongoDB Atlas**

   •  สมัคร MongoDB Atlas  
   •  https://www.mongodb.com/cloud/atlas และทำการสมัครสมาชิก  
   •  สร้าง Project: we670-final-nodejs-webservice  
   •  สร้าง Cluster: we670-final-nodejs-webservice (แบบ Free Tier)
   •  ตั้งค่า .env และการเชื่อมต่อผ่าน mongoose

6. # **โครงสร้างฐานข้อมูล และ Seed ข้อมูลเข้าสู่ MongoDB**

   •  models/users.js พร้อมคำอธิบาย Schema
   •  การสร้าง mock/mock-data  
   	•  ตัวอย่างข้อมูลจำลองของผู้ใช้ Thunderbolts จำนวน 10 ราย 
   	•  ถูกจัดเก็บในรูปแบบ Array เพื่อเตรียม seed เข้าฐานข้อมูล
   •  การสร้าง mock/mock-data-script.js
   •  Seed ข้อมูลเข้าสู่ MongoDB ด้วยคำสั่ง
   •  npm run seed ที่ Terminal

7. # **การสร้าง Middleware**

   ในโปรเจกต์นี้ได้มีการสร้าง middleware ชื่อ logger.js ซึ่งอยู่ในโฟลเดอร์ middleware/ เพื่อทำหน้าที่บันทึกข้อมูลของ HTTP Request ที่เข้ามาทุกครั้ง โดยข้อมูลที่ถูก log จะประกอบด้วย HTTP Method, URL ที่เรียกใช้งาน และ timestamp ขณะนั้น ตัวอย่างของโค้ด และผลลัพธ์ที่ได้แสดงไว้ด้านล่าง  
   •  middleware/logger.js 
   •  ตัวอย่าง log ผลลัพธ์ที่ได้

8. # **การตั้งค่าและทำงานของ app.js**

9. # **การสร้าง API Routes**

   •  สร้าง routes/users.js  
   	•  GET /api/users — เรียกดูผู้ใช้ทั้งหมด  
   	•  GET /api/users/:uid — เรียกดูผู้ใช้เฉพาะคน  
   	•  POST /api/users — เพิ่มผู้ใช้ใหม่  
   	•  PUT /api/users/:uid — แก้ไขข้อมูลผู้ใช้  
   	•  DELETE /api/users/:uid — ลบผู้ใช้
   
10. # **การทดสอบ API ด้วย Postman**

    •  ทดสอบ การดึงข้อมูลผู้ใช้ทั้งหมด  
    •  Method: GET  
    •  URL: http://localhost:8000/api/users  
    	•  ผลการทดสอบ บน Postman
    •  ทดสอบ การดึงข้อมูลผู้ใช้รายคน
    	•  Method: GET
    	•  URL: http://localhost:8000/api/users/U007
    	•  ผลการทดสอบ บน Postman
    •  ทดสอบ การเพิ่มผู้ใช้ใหม่
    	•  Method: POST
    	•  URL: http://localhost:8000/api/users
    	•  Body \> JSON:
    	•  ผลการทดสอบ บน Postman
    •  ทดสอบ การแก้ไขข้อมูลผู้ใช้
    	•  Method: PUT
    	•  URL: http://localhost:8000/api/users/U011
    	•  Body \> JSON:
    	•  ผลการทดสอบ บน Postman
    •  ทดสอบ การลบข้อมูลผู้ใช้
    	•  Method: DELETE
    	•  URL: http://localhost:8000/api/users/U011
    •  ผลการทดสอบ บน Postman

11. # **การแสดงผลหน้า Web ด้วย EJS Template**
    •  สร้าง views/main.ejs
    •  เสริมความสวยงามด้วย public/stylesheets/style.css เช่น
    •  ตัวอย่างการแสดงผลที่หน้าเบราว์เซอร์

12. # **สรุปผลและการต่อยอด**

    จากการพัฒนาโครงงาน we670-final-nodejs-webservice ผู้จัดทำได้เรียนรู้การออกแบบและพัฒนาเว็บเซอร์วิสโดยใช้ Node.js ร่วมกับ Express.js ตั้งแต่ขั้นตอนการติดตั้ง การกำหนดโครงสร้างโปรเจกต์ การใช้งาน middleware การสร้าง API routes และการเชื่อมต่อกับฐานข้อมูล MongoDB Atlas ผ่าน Mongoose โดยครอบคลุมทั้งกระบวนการ seed ข้อมูลแบบ mock และการจัดการข้อมูลผู้ใช้ในรูปแบบ RESTful API อย่างสมบูรณ์  
    นอกจากนี้ยังได้ฝึกใช้เครื่องมือ Express Generator, Postman และ EJS เพื่อแสดงผลข้อมูลแบบไดนามิกบนฝั่ง Client อย่างเป็นระบบ พร้อมทั้งฝึกแนวทางการเขียนโค้ดให้มีความ modular และ maintainable ซึ่งจะเป็นพื้นฐานสำคัญสำหรับการพัฒนาแอปพลิเคชันระดับจริงในอนาคต  
      
    	แนวทางการต่อยอด ที่สามารถพัฒนาต่อจากโครงงานนี้ ได้แก่:  
    	•  เพิ่มระบบ Authentication / Authorization เช่น JWT หรือ OAuth2 เพื่อจำกัดสิทธิ์ในการเข้าถึง API  
    	•  สร้าง ระบบ Login และ Register สำหรับผู้ใช้ทั่วไป  
    	•  เพิ่ม Admin Panel สำหรับจัดการผู้ใช้ผ่าน Web UI  
    	•  ใช้งาน MongoDB Aggregation เพื่อสร้าง report หรือ dashboard  
    	•  เชื่อมต่อกับ Frontend Framework เช่น React หรือ Next.js เพื่อพัฒนาให้เป็น Full-stack Application  
    